<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>The Reflowable Ebook</title>
  <link rel="stylesheet" href="css/styles.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <noscript>
    <style type="text/css">
      .demo {display: none;}
      .article-settings{display: none;}
      .warning {display: block;}
    </style>
  </noscript>
</head>
<body>
<main>
  <header>
    <h1>The Reflowable Ebook</h1>

    <p class="lead">A  quick and interactive introduction for editors,  designers, and the simply curious</p>

    <p class="author">By Jiminy Panoz</p>
  </header>

  <aside class="warning">
    <p>JavaScript is disabled in your browser.</p>

    <p>The interactive demonstrations will not work.</p>
  </aside>

  <section>
    <div class="article-settings">
      <label>
        <input type="checkbox" name="article" value="tldr-on" /><span class="checker"></span> <span>Mode Scan</span>
      </label>
    </div>

    <h2>Introduction</h2>

    <p>We often speak of formats, business models,  enrichment or disruption<mark class="tldr">but we sometimes forget something important:  the design of the book.</mark></p>

    <p>Over the past few years, I have realized that many publishers and graphic designers are feeling confused.</p>

    <p>What is possible, and how?</p>

    <p>Can desktop publishing software do this directly?</p>

    <p>Why are there layout bugs in a particular reading system?</p>

    <p>Can we add interactions?</p>

    <p>What constraints should be taken into account?</p>

    <p>These questions are vague, and require clarification.</p>

    <p>The object of this page is to est par conséquent de <mark class="tldr">donner les clés du livre numérique redistribuable</mark>, aussi connu sous le nom d’<i lang="en">ebook reflowable text.</i></p>
  </section>

  <section>
    <h2>Ebooks are from the web</h2>

    <p>Même si nous n’allons pas nous plonger dans les méandres techniques du livre numérique et, plus particulièrement, du standard <abbr class="sc">EPUB</abbr>, il n’est pas inutile de rappeler que celui-ci <mark class="tldr">emprunte les langages du web.</mark></p>

    <p>Un livre numérique au format <abbr class="sc">EPUB</abbr> c’est&nbsp;:</p>

    <ul>
      <li>Content in <abbr class="sc">HTML</abbr> (<i lang="en">HyperText Markup Language</i>)&nbsp;;</li>
      <li>Laid out with <abbr class="sc">CSS</abbr> (<i lang="en">Cascading Style Sheets</i>)&nbsp;;</li>
      <li>Made interactive with <abbr class="sc">JS</abbr> (<i lang="en">JavaScript</i>)&nbsp;;</li>
      <li>Vector images in <abbr class="sc">SVG</abbr> (<i lang="en">Scalable Vector Graphics</i>).</li>
    </ul>

    <p>The <abbr class="sc">HTML</abbr> structure looks like this:</p>

    <div class="full-width inherit-grid bg-container">
      <pre><code>&lt;h1&gt;Chapter Title&lt;/h1&gt;

&lt;p&gt;The first paragraph of our chapter, une &lt;em&gt;emphase&lt;/em&gt; vient accentuer un mot de la phrase.&lt;/p&gt;

&lt;blockquote&gt;
 &lt;p&gt;Voici le premier paragraphe d’une citation en bloc.&lt;/p&gt;
 &lt;p&gt;Et voilà le second.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;figure&gt;
  &lt;img alt=&quot;description de l’image&quot; src=&quot;../Images/image1.jpg&quot; /&gt;
  &lt;figcaption&gt;La légende de l’image&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
    </div>

    <p><mark class="tldr">This structure allows the reading system to understand the text</mark> and to differentiate between the various elements (title, quotation, illustration, etc.). This is also used for speech synthesis.</p>

    <p>As for the design with <abbr class="sc">CSS</abbr>…</p>

    <div class="full-width inherit-grid bg-container">
      <pre><code>p {
  font-size: 1em;
  line-height: 1.5;
  margin: 0;
  text-indent: 1em;
}</code></pre>
    </div>

    <p>In this example, we declare styles for all the paragraphs in the book (size, leading, margins, and indentation of the first line).</p>

    <figure class="full-width inherit-grid floating-caption">
      <picture>
        <source media="(min-width: 1024px)" srcset="assets/1200/fluide-2x.png">
        <source media="(min-width: 1366px)" srcset="assets/1800/fluide-3x.png">
        <img alt="Le contenu d’un fichier EPUB affiché à l’écran n’est pas le même en fonction des dimensions de l’écran. Un smartphone affichera moins de contenu qu’une liseuse ou qu’une tablette." src="assets/900/fluide.png" />
      </picture>
      <figcaption>Unlike <abbr class="sc">PDF</abbr>, which is scaled, the content <abbr class="sc">HTML</abbr> automatically adapts to the content of the screen.</figcaption>
    </figure>

    <p>It is important to note that <mark class="tldr">web content is fluid by default.</mark>: it is indeed <mark class="tldr">automatically reflowed in the browser window.</mark> For example, we could compare it to the reflowable text block in InDesign.</p>

    <div class="full-width inherit-grid demo">
      <div class="demo-settings">
        <label>
          <input type="checkbox" name="fluid-demo" value="styled" /><span class="checker"></span> <span>Add styles</span>
        </label>
      </div>
      <iframe id="fluid-demo" src="demo.html"></iframe>
    </div>

    <p><mark class="tldr">It is in styling that one is likely to degrade this fluidity.</mark></p>
    
    <p>There was a time when web designers used fixed dimensions, for example 800 pixels wide. This allowed them to create more complex layouts: columns, pixel-like objects, and so on. Needless to say, they soon realized that <mark class="tldr">approaches based on fixed dimensions could no longer function with the advent of mobile devices.</mark></p>
  </section>

  <section>
    <h2>From the web, with a difference</h2>

    <p>One often hears that the digital book is a kind of “packaged web site,” but that does not mean that all web browsers are able to open an <abbr class="sc">EPUB</abbr> file. In fact, although many of the constituent parts are the same, <mark class="tldr"><abbr class="sc">EPUB</abbr> is a standard with its own specification.</mark></p>

    <p>Currently, the only browser that supports <abbr class="sc">EPUB</abbr> natively is Microsoft Edge.</p>

    <figure class="gutter" role="presentation">
      <img alt="" src="assets/900/apps.png" />
    </figure>

    <p>Also, it is generally necessary to go through a reading system (a dedicated device, app, or cloud service) in order to access the contents of a digital book.</p>

    <p>Modern solutions borrow rendering engine from the web browsers, a software component which, as the name suggests, takes care of the rendering of web pages. One can thus consider that the reading systems are <mark class="tldr">Software overlays that support formatting and provide a dedicated reading interface.</mark></p>

    <p><mark class="tldr">These overlays have several specific functions, such as pagination, user settings, etc.</mark> These make the design and development of a digital book somewhat different from that of a website.</p>
  </section>

  <section>
    <h2>A Paradigm Shift</h2>

    <p>Si l’on compare navigateurs web et outils <abbr class="sc">P.A.O</abbr>, force est de constater que <mark class="tldr">les moteurs de rendu web sont largement moins aboutis que ceux des logiciels auxquels nous sommes habitués.</mark></p>

    <p>Les algorithmes de justification des navigateurs web sont simplistes, les fonctionnalités typographiques avancées (fonctionnalités Open Type) sont très récentes et parfois mal supportées, les grilles de composition viennent tout juste d’arriver, le modèle de fragmentation (pagination) est encore inexistant…</p>

    <p>De même, en matière de typographie, césures, veuves et orphelines, et sauts de page proposent un contrôle pour le moins limité en numérique. Bien que les solutions de lecture paginent par défaut, ces choses sont très médiocrement supportées.</p>

    <p>Aussi, <mark class="tldr">il faut bien différencier la «&nbsp;page <abbr class="sc">PDF</abbr>&nbsp;» de la «&nbsp;page <abbr class="sc">EPUB</abbr>&nbsp;».</mark></p>

    <figure class="full-width grid-2" role="group">
      <figure class="grid-component">
        <picture>
          <source media="(min-width: 1024px)" srcset="assets/1200/wysiwyg-2x.png">
          <source media="(min-width: 1366px)" srcset="assets/1800/wysiwyg-3x.png">
          <img alt="" src="assets/900/wysiwyg.png" />
        </picture>
        <figcaption>Avec le <abbr class="sc">PDF</abbr>, on obtient ce que l’on voit dans le logiciel&nbsp;<abbr class="sc">P.A.O.</abbr></figcaption>
      </figure>

      <figure class="grid-component">
        <picture>
          <source media="(min-width: 1024px)" srcset="assets/1200/wysiwygn-2x.png">
          <source media="(min-width: 1366px)" srcset="assets/1800/wysiwygn-3x.png">
          <img alt="" src="assets/900/wysiwygn.png" />
        </picture>
        <figcaption>Avec <abbr class="sc">EPUB</abbr>, le contenu est redistribué dans un&nbsp;flux.</figcaption>
      </figure>
    </figure>

    <p><mark class="tldr">En <abbr class="sc">EPUB</abbr> redistribuable, il n’y a pas de dimensions fixes donc de pagination prédéfinie, il n’y a pas d’alignement vertical, il n’y a pas non plus d’image à fond perdu ou de note de bas de page qui fragmentent un paragraphe.</mark></p>

    <p>Le contenu est redistribué en fonction de la taille de l’écran, les contenus se suivent dans un flux continu et non pas fragmenté, paragraphes et images sont des blocs solides et il n’est pas réellement possible de placer certains contenus arbitrairement.</p>

    <figure class="gutter" role="presentation">
      <img alt="" src="assets/900/indicateur.png" />
    </figure>

    <p>De fait, <mark class="tldr">il n’existe rien dans les moteurs de rendu pour gérer la pagination à l’heure actuelle.</mark> La pagination est un <em>hack,</em> une bidouille réalisée à l’aide des outils <abbr class="sc">CSS</abbr> disponibles dans le but de l’imiter.</p>

    <div class="full-width inherit-grid demo">
      <div class="demo-settings">
        <label>
          <input type="checkbox" name="pagination-demo" value="paginated" /><span class="checker"></span> <span>Paginer le texte</span>
        </label>
      </div>
      <iframe id="pagination-demo" src="demo.html"></iframe>
    </div>

    <p>Les solutions de lecture modernes utilisent très souvent les colonnes <abbr class="sc">CSS</abbr> pour émuler la pagination. Le problème est que cette spécification n’a jamais été conçue pour cela et n’a pas évolué pour permettre les cas d’usages du livre numérique.</p>

    <p><mark class="tldr">Le maquettiste ne met pas en pages, il ne fait que donner des indications.</mark> Il faut oublier le concept de <abbr title="What You See is What You Get" class="sc">WYSIWYG</abbr> (Ce que l’on voit à l’écran est le résultat final).</p>
  </section>

  <section>
    <h2>Pour les développeurs, faire en&nbsp;sorte que tout&nbsp;fonctionne</h2>

    <p>Le rendu <abbr class="sc">EPUB</abbr> est un processus quelque peu complexe dans le sens où paginer une mise en pages définie arbitrairement peut créer de nombreux problèmes. Il n’est ainsi par rare que des <mark class="tldr">solutions de lecture «&nbsp;surchargent&nbsp;» des styles pour régler des bugs d’affichage.</mark></p>

    <p>On parle ici d’<em lang="en">override,</em> soit un remplacement dynamique d’un ou plusieurs styles du fichier <abbr class="sc">EPUB</abbr>. En d’autres termes, c’est comme si les développeurs de la solution de lecture ne prenaient pas en compte ou outrepassaient certaines indications de mise en page.</p>

    <div class="full-width inherit-grid demo">
      <div class="demo-settings">
        <label>
          <input type="checkbox" name="overrides-demo" value="overridden" /><span class="checker"></span> <span>Appliquer les overrides</span>
        </label>
      </div>
      <iframe id="overrides-demo" src="demo.html"></iframe>
    </div>

    <p>Il faut noter que ces <i lang="en">overrides</i> sont rarement gratuits&nbsp;; ils sont le plus souvent prévus pour <mark class="tldr">régler des problèmes réels</mark>&nbsp;: images ou textes coupés, mauvais affichage de certaines polices, marges énormes sur des petits écrans, etc.</p>

    <p>Par ailleurs, certaines solutions de lecture se servent des <i lang="en">overrides</i> pour «&nbsp;rattraper le coup&nbsp;» quand des déclarations <abbr class="sc">CSS</abbr> désactivent des réglages utilisateurs ou fonctionnalités.</p>

    <p>Il faut bien comprendre que l’on obtiendra <mark class="tldr">jamais le même résultat partout, il faut oublier le «&nbsp;au pixel près&nbsp;».</mark> D’une part, les moteurs de rendu sont bien incapables de mettre en pages de manière totalement identique. D’autre part, les solutions de lecture gèrent ces contenus différemment.</p>

    <p>Il faut donc accepter la perte de contrôle…</p>
  </section>

  <section>
    <h2>Le graphiste propose, l’utilisateur dispose</h2>

    <p>Cette perte de contrôle est d’autant plus certaine que les réglages utilisateurs sont très largement attendus par les lecteurs.</p>

    <figure class="full-width inherit-grid floating-caption">
      <picture>
        <source media="(min-width: 1024px)" srcset="assets/1200/font-2x.png">
        <source media="(min-width: 1366px)" srcset="assets/1800/font-3x.png">
        <img alt="Les réglages utilisateurs sont accessibles depuis les menus des l’interface de lecture." src="assets/900/font.png" />
      </picture>
      <figcaption>Toutes les solutions de lecture ou presque proposent un minimum de réglages&nbsp;utilisateur.</figcaption>
    </figure>

    <p>Depuis le tout début du livre numérique, ceux-ci peuvent <mark class="tldr">composer le texte à leur convenance</mark>&nbsp;: police et taille de caractères, couleur de fond, marges de la page, interlignage et alignement du texte sont autant de variables sur lesquelles ils peuvent intervenir.</p>

    <figure class="full-width grid-4" role="group" aria-labelledby="settings-cap">
      <figure class="grid-component">
        <img alt="Texte noir sur fond blanc, taille de caractères par défaut." src="assets/900/config1.png" />
      </figure>
      <figure class="grid-component">
        <img alt="Texte blanc sur fond noir, taille de caractère minimum." src="assets/900/config2.png" />
      </figure>
      <figure class="grid-component">
        <img alt="Texte noir sur fond sépia, taille de caractères augmentée." src="assets/900/config3.png" />
      </figure>
      <figure class="grid-component">
        <img alt="Texte blanc sur fond gris, taille de caractère maximale." src="assets/900/config4.png" />
      </figure>
      <figcaption id="settings-cap">Il faut prévoir la mise en pages pour des configurations de lecture extrêmement&nbsp;variées.</figcaption>
    </figure>

    <p>Nous pouvons concevoir ces réglages utilisateurs comme une seconde catégorie d’<i lang="en">overrides,</i> ce qui complique par ailleurs la tâche des développeurs de solutions de lecture.</p>

    <div class="full-width inherit-grid demo">
      <div class="demo-settings flex-2">
        <label>
          <input type="checkbox" name="settings-demo" value="sans" /><span class="checker"></span> <span>Sans serif</span>
        </label>
        <label>
          <input type="checkbox" name="settings-demo" value="night" /><span class="checker"></span> <span>Mode nuit</span>
        </label>
      </div>
      <iframe id="settings-demo" src="demo.html"></iframe>
    </div>

    <p><mark class="tldr">À noter que les styles générés par les logiciels <abbr class="sc">P.A.O.</abbr> «&nbsp;cassent&nbsp;» souvent certains réglages utilisateurs…</mark> Le lecteur pourra donc se retrouver avec du texte illisible en mode nuit, des polices pas remplacées pour l’italique ou un réglage qui ne fonctionne pas du tout.</p>
  </section>

  <section>
    <h2>Une expérience de&nbsp;lecture</h2>

    <p>Concevoir un livre numérique, aussi simple soit-il, <mark class="tldr">dépasse très largement le cadre de la composition et de la mise en pages.</mark></p>

    <p><mark class="tldr">Il faut penser en termes d’expérience de lecture.</mark></p>

    <figure class="full-width grid-2" role="group">
      <figure class="grid-component">
        <picture>
          <source media="(min-width: 1024px)" srcset="assets/1200/search-2x.png">
          <source media="(min-width: 1366px)" srcset="assets/1800/search-3x.png">
          <img alt="" src="assets/900/search.png" />
        </picture>
        <figcaption>On peut rechercher directement dans le&nbsp;texte.</figcaption>
      </figure>

      <figure class="grid-component">
        <picture>
          <source media="(min-width: 1024px)" srcset="assets/1200/annoter-2x.png">
          <source media="(min-width: 1366px)" srcset="assets/1800/annoter-3x.png">
          <img alt="" src="assets/900/annoter.png" />
        </picture>
        <figcaption>On peut également annoter et partager ses&nbsp;remarques.</figcaption>
      </figure>
    </figure>

    <p>Les solutions de lecture proposent nombre de fonctionnalités dédiées à l’activité de lecture&nbsp;:</p>

    <ul>
      <li>l’accès à la table des matières&nbsp;;</li>
      <li>la recherche dans le texte&nbsp;;</li>
      <li>la définition et la recherche en ligne (d’un mot ou d’une phrase)&nbsp;;</li>
      <li>l’annotation&nbsp;;</li>
      <li>le partage&nbsp;;</li>
      <li>le zoom des tableaux ou images&nbsp;;</li>
      <li>les notes pop-up&nbsp;;</li>
      <li>la consultation des seules images que le livre contient (Kindle)&nbsp;;</li>
      <li>etc.</li>
    </ul>

    <p>Cela n’est pas sans poser quelques défis de conception… <mark class="tldr">Comment faire en sorte de ne pas interférer avec ces fonctionnalités&nbsp;?</mark> Comment dépasser celles-ci pour en apporter d’autres, susceptibles d’améliorer l’expérience de lecture de l’utilisateur&nbsp;?</p>

    <p>Rien que les appels de notes peuvent déjà dégrader cette expérience. Non liés, ils ne permettront pas d’accéder à la note de fin de section&nbsp;; trop petits, ils demanderont à l’utilisateur de s’y reprendre à plusieurs fois avant d’y parvenir sur son appareil tactile.</p>

    <p>Quant aux interactions plus complexes, <mark class="tldr">le support du langage JavaScript n’étant pas obligatoire en <abbr class="sc">EPUB</abbr>, il faudra composer avec cette contrainte et proposer une solution de secours statique pour chaque interaction.</mark></p>
  </section>

  <section>
    <h2>Une perte de contrôle, une&nbsp;gamme de&nbsp;possibilités</h2>

    <p>Si nous faisons le bilan, il faut admettre que le livre numérique redistribuable peut désarçoner bien des éditeurs et graphistes rompus aux joutes de l’édition.</p>

    <figure class="full-width inherit-grid floating-caption">
      <picture>
        <source media="(min-width: 1024px)" srcset="assets/1200/flux-2x.png">
        <source media="(min-width: 1366px)" srcset="assets/1800/flux-3x.png">
        <img alt="L’appareil de lecture n’est de facto qu’un cadre que l’utilisateur déplace sur un volumen." src="assets/900/flux.png" />
      </picture>
      <figcaption>Le livre numérique, ce sont des contenus dans un flux continu, manipulés par les solutions de lecture, redistribués de manière dynamique et restylés par le&nbsp;lecteur.</figcaption>
    </figure>

    <p>Il faut envisager les choses différemment, perdre certaines habitudes, <mark class="tldr">re-penser l’utilisabilité de l’objet imprimé pour l’écran, créer de nouvelles méthodes de conception adaptées aux contraintes de ce nouveau medium…</mark></p>

    <p>Le web étant déjà passé par là, nous pouvons en tirer une leçon importante&nbsp;: il faut épouser l’idée que <mark class="tldr">toutes les solutions de lecture ne sont pas égales en support et en possibilités techniques.</mark></p>

    <p>La réponse est probablement le concept d’amélioration progressive : <mark class="tldr">on construit une base solide qui fonctionne partout puis on l’améliore en fonction des capacités des solutions de lecture.</mark></p>

    <p>Aujourd’hui, nous sommes ainsi capables de simuler l’alignement vertical, de forcer une image à fragmenter un paragraphe dans certaines conditions ou de l’habiller de manière complexe, d’effectuer des transformations sur du texte (e.g. rotation) et de créer des grilles de composition adaptatives.</p>

    <p>Mieux encore, <mark class="tldr"><abbr class="sc">CSS</abbr> et JavaScript disposent de mécanismes pour concevoir cette amélioration progressive au mieux.</mark></p>

    <p>Il y a de l’espoir mais cela demandera le partage des connaissances, beaucoup de recherche utilisateur et, surtout, un effort collectif.</p>
  </section>

  <section>
    <h2>Aller plus loin</h2>

    <ul>
      <li><a href="http://jiminy.chapalpanoz.com">Site de l’auteur</a></li>
      <li><a href="https://jaypanoz.github.io/pilen2016/#/">Slides «&nbsp;Pourquoi le monde de l’édition devrait s’intéresser au web&nbsp;»</a></li>
      <li><a href="http://jiminy.chapalpanoz.com/category/editodesignhack/">Série d’articles et de livres «&nbsp;Édito / Design / Hack&nbsp;»</a></li>
      <li><a href="https://jaypanoz.github.io/ebookcraft2017/#/">Atelier «&nbsp;<i xml:lang="en">ebooks, beta testing, and the apocalypse</i>&nbsp;»</a></li>
      <li><a href="http://friendsofepub.github.io/Blitz/">Cadre de conception et de développement Blitz</a></li>
    </ul>
  </section>

  <footer>
    <p>© 2017, Jiminy Panoz</p>
    <p>Typo «&nbsp;<a href="http://vollkorn-typeface.com">Vollkorn</a>&nbsp;» par Friedrich Althausen</p>
    <p class="footer-links"><a href="https://github.com/JayPanoz/reflow">Consulter la&nbsp;source</a> | <a href="https://github.com/JayPanoz/reflow/issues">Signaler un&nbsp;bug</a></p>
  </footer>
</main>
<script type="text/javascript" src="js/script.js"></script>
</body>
</html>